<div class="col-span-full">
    <label for="cover-photo" class="block text-sm/6 font-medium text-gray-900 dark:text-white">{{this.title}}</label>
    <div #dropZone 
        (dragover)="onDragOver($event)"
        (dragleave)="onDragLeave($event)"
        (drop)="onDrop($event)"
        [class.drag-over]="isDragOver"
        (click)="triggerFileInput()" class=" hover:bg-gray-100 cursor-pointer mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10 dark:border-white/25">
        <div 
        class="text-center" >
            <input
                #fileInput
                type="file"
                [multiple]="multiple"
                [accept]="accept"
                (change)="onFilesSelected($event)"
                class="hidden">
            <svg viewBox="0 0 24 24" fill="currentColor" data-slot="icon" aria-hidden="true" class="mx-auto size-12 text-gray-300 dark:text-gray-600">
            <path d="M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z" clip-rule="evenodd" fill-rule="evenodd" />
            </svg>
            <div class="mt-4 flex text-sm/6 text-gray-600 dark:text-gray-400">
            <label for="file-upload" class="relative cursor-pointer rounded-md bg-transparent font-semibold text-indigo-600 focus-within:outline-2 focus-within:outline-offset-2 focus-within:outline-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:focus-within:outline-indigo-500 dark:hover:text-indigo-300">
                <span>Téléchargez une image</span>
                <input id="file-upload" type="file" name="file-upload" class="sr-only" />
            </label>
            <p class="pl-1">ou faites glisser et déposez</p>
            </div>
            <p class="text-xs/5 text-gray-600 dark:text-gray-400">PNG, JPG, GIF jusqu'à {{ maxMo }} Mo</p>
        </div>
    </div>
    @if(previews?.length > 0){
        <div class="mt-4 gap-4 flex flex-wrap">
            @for(preview of previews; track preview){
                <div class="relative text-gray-400 size-16">
                    <img [src]="preview.url" alt="{{preview.file.name}}" class="w-full h-12 rounded-lg">
                    <button type="button" (click)="removeFile(preview)" class="flex items-center justify-center text-sm absolute size-4 top-1 right-0 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500">
                        <span>&times;</span>
                    </button>
                    <p class="absolute bottom-0 left-0 right-0 text-center text-xs/5 bg-gray-900 bg-opacity-75 text-white truncate">{{preview.file.name}}</p>
                </div>
            }
        </div>
    }
    <div class="mt-5 sm:mt-6">
        <button type="button" (click)="saveFiles()" class="cursor-pointer inline-flex w-full justify-center rounded-md bg-primary-bourgad px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-primary-bourgad-2 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Sauvegarder</button>
    </div>
    <div class="mt-3 sm:mt-4">
        <button type="button" (click)="abort()" class="cursor-pointer inline-flex w-full justify-center rounded-md bg-gray-500 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-gray-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Annuler</button>
    </div>
</div>