<div class="absolute h-full w-full bg-[url(/assets/village.webp)] bg-cover z-0">
</div>
<div class="relative flex h-screen z-10 bg-primary-bourgad/80">
  <div class="absolute ml-10 mt-6">
    <a href="/" class="text-sm/6 font-semibold text-white hover:text-indigo-400"><span class="pr-2" aria-hidden="true">&larr;</span> Retour à l'accueil</a>
  </div>
  <div class="my-auto border-2 border-gray-300 mx-auto w-full max-w-md rounded-md p-10 bg-gray-900/80">
    <div>
      <img class="h-10 w-auto mx-auto" src="/assets/bourgad_dark.svg" alt="Bourgad">
      @if(userCity$ | async) {
        <h2 class="mt-8 text-2xl/9 font-bold tracking-tight text-white">Changez de Bourgade</h2>
        <p class="mt-2 text-sm/6 text-gray-500">
            Changez la ville pour laquelle vous souhaitez recevoir des posts et des notifications.
        </p>
      }
      @else {
        <h2 class="mt-8 text-2xl/9 font-bold tracking-tight text-white">Définissez votre Bourgade</h2>
        <p class="mt-2 text-sm/6 text-gray-500">
            Définissez la ville pour laquelle vous souhaitez recevoir des posts et des notifications.
        </p>
      }
      <div class="mt-6">
        <bgd-search-place-modal (selectedPlace$)="updateLocation($event)" [providerType]="'bourgad'" [zoomLevel]="8" [placeholder]="'Recherchez votre Bourgade'" [areaMap]="localizeMap" [inputClasses]="'block rounded-md pl-10 pr-10 py-1.5 text-base placeholder:text-gray-400 sm:text-sm/6 w-80 truncate'"></bgd-search-place-modal>
        <div id="map" class="z-map w-full h-40 rounded-md">
            <bgd-map [mapId]="'map'" (map$)="receiveMap($event)" [defaultZoom]="2" [displayScale]="false" [displayZoom]="false" [displayLayers]="false"></bgd-map>
        </div>
      </div>
      <div class="mt-6">
        <button (click)="saveUserLocation()" type="submit" class="flex w-full justify-center rounded-md bg-indigo-400 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-400 disabled:bg-gray-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Enregistrer ma bourgade</button>
      </div>
    </div>

  </div>
</div>